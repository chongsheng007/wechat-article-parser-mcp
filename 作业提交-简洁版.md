# 微信公众号文章解析 MCP 应用

## 代码仓库

**GitHub 仓库地址**: https://github.com/chongsheng007/wechat-article-parser-mcp

## 项目简介

这是一个基于 FastMCP 框架开发的 MCP (Model Context Protocol) 服务器，用于解析微信公众号文章。项目实现了三个核心工具：

1. **文章解析工具** (`parse_wechat_article_tool`): 完整解析微信公众号文章，支持 Markdown、Text、HTML 三种格式输出
2. **元数据提取工具** (`extract_article_metadata`): 快速提取文章标题、作者、发布时间、封面图等元数据
3. **图片提取工具** (`extract_article_images`): 提取文章中的所有图片 URL

## 技术栈

- **开发框架**: FastMCP 2.13.0.2
- **编程语言**: Python 3.10+
- **核心依赖**: BeautifulSoup4, requests, html2text, Pydantic

## 核心功能

- ✅ 完整解析微信公众号文章内容
- ✅ 支持多种输出格式（Markdown、Text、HTML）
- ✅ 提取文章元数据（标题、作者、发布时间、封面图）
- ✅ 提取所有图片（支持懒加载图片处理）
- ✅ 完善的错误处理和用户提示

## 项目结构

```
src/wechat_article_parser/
├── server.py                    # MCP 服务器主文件
├── wechat_server.py            # 入口文件
├── tools/                       # 工具实现
│   ├── parse_article.py        # 解析文章工具
│   ├── extract_metadata.py     # 提取元数据工具
│   └── extract_images.py       # 提取图片工具
└── utils/                       # 工具函数
    ├── parser.py               # 文章解析核心逻辑
    ├── html_extractor.py      # HTML 提取器
    ├── formatters.py           # 格式化器
    └── errors.py               # 错误处理
```

## 测试结果

测试文章: https://mp.weixin.qq.com/s/MARhfmo921-eVd_koJZgGw

- ✅ 成功提取完整文章内容（4407 字）
- ✅ 成功提取标题、作者、封面图等元数据
- ✅ 成功提取 15 张图片（1 张封面 + 14 张正文）
- ✅ Markdown 格式输出正常
- ✅ 所有功能测试通过

（测试结果截图已单独提交）

---

**代码仓库**: https://github.com/chongsheng007/wechat-article-parser-mcp

